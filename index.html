<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BGMI Loader - Premium BGMI Services</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;500;700&display=swap">
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <style>
        /* Your existing CSS remains the same */
        /* I've just added a few styles for the payment processing */
        
        .payment-processing {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .payment-processing i {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 15px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .payment-success {
            display: none;
            text-align: center;
            padding: 20px;
            color: var(--success);
        }
        
        .payment-success i {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .payment-failed {
            display: none;
            text-align: center;
            padding: 20px;
            color: #f44336;
        }
        
        .payment-failed i {
            font-size: 3rem;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <!-- Your existing HTML remains the same until the payment modal -->

    <!-- Updated Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Complete Your Purchase</h2>
                <div class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            <div class="modal-body">
                <div class="payment-options">
                    <h3>Choose Payment Method</h3>
                    <div class="payment-methods">
                        <button class="payment-method-btn active" data-method="razorpay">
                            <i class="fas fa-credit-card"></i> Credit/Debit Card
                        </button>
                        <button class="payment-method-btn" data-method="razorpay">
                            <i class="fas fa-mobile-alt"></i> UPI
                        </button>
                        <button class="payment-method-btn" data-method="razorpay">
                            <i class="fas fa-university"></i> Net Banking
                        </button>
                        <button class="payment-method-btn" data-method="manual">
                            <i class="fas fa-qrcode"></i> Manual UPI
                        </button>
                    </div>
                </div>
                
                <div class="manual-payment" style="display: none;">
                    <div class="modal-img">
                        <img src="imagexx.jpg" alt="Payment QR Code">
                    </div>
                    
                    <div class="modal-details">
                        <h3 id="modalProduct">BGMI MAGIC - 1 Day</h3>
                        <div class="modal-price" id="modalPrice">99₹</div>
                        <p>UPI ID: <strong>himanshukok16@oksbi</strong></p>
                    </div>
                    
                    <div class="modal-note">
                        <p>After payment, please inform us on Telegram:</p>
                        <a href="https://t.me/KILLZONEOWNER" class="telegram-link" target="_blank">
                            <i class="fab fa-telegram"></i> Contact on Telegram
                        </a>
                    </div>
                    
                    <button class="buy-btn" id="confirmPayment">
                        I HAVE MADE THE PAYMENT
                    </button>
                </div>
                
                <div class="razorpay-payment">
                    <button class="buy-btn" id="proceedPayment">
                        PROCEED TO PAY ₹<span id="razorpayAmount">99</span>
                    </button>
                </div>
                
                <div class="payment-processing" id="paymentProcessing">
                    <i class="fas fa-spinner"></i>
                    <h3>Processing Payment...</h3>
                    <p>Please do not refresh the page</p>
                </div>
                
                <div class="payment-success" id="paymentSuccess">
                    <i class="fas fa-check-circle"></i>
                    <h3>Payment Successful!</h3>
                    <p>Your order is being processed. You will receive details shortly.</p>
                    <button class="buy-btn" id="successClose">
                        OK
                    </button>
                </div>
                
                <div class="payment-failed" id="paymentFailed">
                    <i class="fas fa-times-circle"></i>
                    <h3>Payment Failed</h3>
                    <p>Please try again or use manual payment method.</p>
                    <button class="buy-btn" id="retryPayment">
                        TRY AGAIN
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer remains the same -->

    <script>
        // Your existing navigation functionality remains the same
        
        // Payment gateway integration
        const buyBtns = document.querySelectorAll('.buy-btn');
        const paymentModal = document.getElementById('paymentModal');
        const modalClose = document.getElementById('modalClose');
        const modalProduct = document.getElementById('modalProduct');
        const modalPrice = document.getElementById('modalPrice');
        const confirmPayment = document.getElementById('confirmPayment');
        const proceedPayment = document.getElementById('proceedPayment');
        const razorpayAmount = document.getElementById('razorpayAmount');
        const paymentProcessing = document.getElementById('paymentProcessing');
        const paymentSuccess = document.getElementById('paymentSuccess');
        const paymentFailed = document.getElementById('paymentFailed');
        const successClose = document.getElementById('successClose');
        const retryPayment = document.getElementById('retryPayment');
        const paymentMethodBtns = document.querySelectorAll('.payment-method-btn');
        const manualPayment = document.querySelector('.manual-payment');
        const razorpayPayment = document.querySelector('.razorpay-payment');
        
        let currentProduct = {};
        
        // Replace with your Razorpay API keys
        const RAZORPAY_KEY_ID = 'your_razorpay_key_id_here';
        
        buyBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const product = btn.getAttribute('data-product');
                const price = btn.getAttribute('data-price');
                const duration = btn.getAttribute('data-duration');
                
                currentProduct = {
                    name: product,
                    price: price,
                    duration: duration
                };
                
                modalProduct.textContent = product;
                modalPrice.textContent = price + '₹';
                razorpayAmount.textContent = price;
                
                paymentModal.classList.add('active');
                showPaymentOptions();
            });
        });
        
        // Payment method selection
        paymentMethodBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                paymentMethodBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const method = btn.getAttribute('data-method');
                
                if (method === 'manual') {
                    manualPayment.style.display = 'block';
                    razorpayPayment.style.display = 'none';
                } else {
                    manualPayment.style.display = 'none';
                    razorpayPayment.style.display = 'block';
                }
            });
        });
        
        function showPaymentOptions() {
            document.querySelector('.payment-options').style.display = 'block';
            manualPayment.style.display = 'none';
            razorpayPayment.style.display = 'block';
            paymentProcessing.style.display = 'none';
            paymentSuccess.style.display = 'none';
            paymentFailed.style.display = 'none';
        }
        
        // Manual payment confirmation
        confirmPayment.addEventListener('click', () => {
            alert('Thank you for your payment! Please contact us on Telegram to activate your service.');
            paymentModal.classList.remove('active');
        });
        
        // Razorpay payment processing
        proceedPayment.addEventListener('click', () => {
            // Show processing UI
            document.querySelector('.payment-options').style.display = 'none';
            manualPayment.style.display = 'none';
            razorpayPayment.style.display = 'none';
            paymentProcessing.style.display = 'block';
            
            // Create order on your server first (you need to implement this)
            // For demonstration, I'm directly calling Razorpay
            // In production, create an order on your server and then proceed
            
            const options = {
                "key": RAZORPAY_KEY_ID,
                "amount": currentProduct.price * 100, // Amount in paise
                "currency": "INR",
                "name": "BGMI Loader",
                "description": currentProduct.name,
                "image": "https://your-website.com/logo.png",
                "handler": function(response) {
                    // Payment successful
                    paymentProcessing.style.display = 'none';
                    paymentSuccess.style.display = 'block';
                    
                    // You should verify the payment signature on your server
                    console.log(response);
                    
                    // Send payment details to your server for verification
                    // verifyPayment(response);
                },
                "prefill": {
                    "name": "Customer Name",
                    "email": "customer@example.com",
                    "contact": "9999999999"
                },
                "notes": {
                    "product": currentProduct.name,
                    "duration": currentProduct.duration
                },
                "theme": {
                    "color": "#FF5722"
                }
            };
            
            const rzp = new Razorpay(options);
            rzp.open();
            
            rzp.on('payment.failed', function(response) {
                paymentProcessing.style.display = 'none';
                paymentFailed.style.display = 'block';
                console.log(response.error);
            });
        });
        
        // Close modals
        modalClose.addEventListener('click', () => {
            paymentModal.classList.remove('active');
        });
        
        successClose.addEventListener('click', () => {
            paymentModal.classList.remove('active');
        });
        
        retryPayment.addEventListener('click', () => {
            showPaymentOptions();
        });
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if(e.target === paymentModal) {
                paymentModal.classList.remove('active');
            }
        });
        
        // Your existing star rating functionality remains the same
    </script>
</body>
</html>